jQuery(document).ready(function(k){k("#footer").on("click","#wpgen-btn",function(e){e.preventDefault();k("#wpgen-popup");if("off"===k(this).attr("data-opener"))var t="on";else t="off";localStorage.setItem("wpgenOpener",t),a(t)});var e=localStorage.getItem("wpgenOpener");function a(e){var t=k("#wpgen-btn").attr("data-text-"+e);k("#wpgen-btn").attr("data-opener",e).html(t),k("#wpgen-popup").attr("data-opener",e)}null!==e&&a(e),k("#wpgen-name").change(function(){localStorage.setItem("wpgenName",k(this).val())});var t=localStorage.getItem("wpgenName");function o(e){localStorage.setItem("wpgenData",JSON.stringify(e));var t,a,C=ajax_wpgen_obj.value,w={};k.each(e,function(e,t){var a,o=k("#"+t.name);if(o.data("value",t.value),0!==o.length){var l=o.find(":selected"),n=o.data("type"),r=o.data("value"),s=o.data("root");if("color"===n){var c=l.data("color-name"),i=l.data("color-saturate");if(w[s+"ColorDark"]=C[l.data("dark")],w[s+"ColorDarken"]=C[l.data("darken")],w[s+"Color"]=C[l.data("color")],w[s+"ColorLighten"]=C[l.data("lighten")],w[s+"ColorLight"]=C[l.data("light")],-1!==k.inArray(t.name,["general-primary-color","general-secondary-color"])){var g=_(l.data("color-saturate"));w[s+"ColorText"]="white"==g?C[k("#general-bg-color").find(":selected").data("white")]:C[k("#general-bg-color").find(":selected").data("black")]}var d=k("#general-link-color").find(":selected").val();if(d==s&&(w.linkColorDark=C[c+"-600"],w.linkColor=C[c+"-500"],w.linkColorLight=C[c+"-400"]),"general-bg-color"==t.name){w.bgColorDark=C[l.data("bg-dark")],w.bgColorDarken=C[l.data("bg-darken")],w.bgColorLighten=C[l.data("bg-lighten")],w.bgColorLight=C[l.data("bg-light")],w.whiteColor=C[l.data("white")],w.textColor=C[l.data("black")];var m=y(i);a=m,k.each([{body:"theme_"},{header:"header_"},{footer:"footer_"},{"#main-menu":"main-menu-"}],function(){k.each(this,function(e,t){k(e).removeClass(t+"white "+t+"light "+t+"dark "+t+"black"),k(e).addClass(t+a)})});var u=k("#elem-bg-saturate").find(":selected").val();w.elemBgColor=C[c+"-"+u],k("body").removeClass("theme_elems_white theme_elems_light theme_elems_dark theme_elems_black").addClass("theme_elems_"+y(u));g=_(u);w.elemTextColor="white"==g?C[l.data("white")]:C[l.data("black")];var f=k("#elem-bd-color").find(":selected").val(),p=k("#elem-bd-color-saturate").find(":selected").val(),h=_(p);"gray"!==f&&(f=k("#general-"+f+"-color").find(":selected").data("color-name")),w.elemBdColor=C[f+"-"+p],w.elemBdColorHover="white"==h?C[f+"-"+function(e){value=100==parseInt(e)?parseInt(e)-50:50==parseInt(e)?parseInt(e)+50:parseInt(e)-100;return value}(p)]:C[f+"-"+function(e){value=50==parseInt(e)?parseInt(e)+50:900==parseInt(e)?parseInt(e)-100:parseInt(e)+100;return value}(p)];var v=k("#input-bd-color-saturate").find(":selected").val();"white"===_(i)&&(v={50:"900",100:"800",200:"700",300:"600",400:"500",500:"400",600:"300",700:"200",800:"100",900:"50"}[v]),50==i&&i==v&&(v=100),w.inputBdColor=C[c+"-"+v],console.log(C[c+"-"+v])}"blue"==d&&(w.linkColorDark=C["blue-600"],w.linkColor=C["blue-500"],w.linkColorLight=C["blue-400"])}else if("customizer"==n){if("customizer-general-container-width"==t.name&&k(".container").removeClass().addClass("container container-"+r),"customizer-archive-page-columns"==t.name&&("three"==r&&k(".article-column").removeClass().addClass("article-column col-12 col-sm-6 col-lg-4 article-column-3"),"four"==r&&k(".article-column").removeClass().addClass("article-column col-12 col-sm-6 col-lg-4 col-xl-3 article-column-4"),"five"==r&&k(".article-column").removeClass().addClass("article-column col-12 col-sm-6 col-lg-3 col-xl-5th article-column-5"),"six"==r&&k(".article-column").removeClass().addClass("article-column col-12 col-sm-6 col-lg-3 col-xl-2 article-column-6")),"customizer-general-button-type"==t.name&&k.each(["button","btn"],function(e,o){k("."+o).each(function(){var e=k(this),t=k(this).attr("data-color"),a=k(this).attr("data-type");null!=t?e.removeClass(o+"-"+t+" "+o+"-"+a+" "+o+"-"+a+"-"+t).addClass(o+"-"+t+" "+o+"-"+r+" "+o+"-"+r+"-"+t):e.removeClass(o+"-"+a).addClass(o+"-"+r),e.attr("data-type",r)})}),"customizer-general-menu-position"==t.name){k.each([{header:"header_menu_"},{"#main-menu":"main-menu-"}],function(){k.each(this,function(e,t){k(e).removeClass(t+"fixed "+t+"absolute"),k(e).addClass(t+r)})})}"customizer-general-menu-button-type"==t.name&&(k(".menu-toggle").empty(),"button-icon-text"==r&&k(".menu-toggle").removeClass().addClass("menu-toggle button menu-toggle_button menu-toggle_icon"),"button-icon"==r&&k(".menu-toggle").removeClass().addClass("menu-toggle button menu-toggle_button menu-toggle_icon menu-toggle_solo-icon"),"button-text"==r&&k(".menu-toggle").removeClass().addClass("menu-toggle button menu-toggle_button"),"icon"==r&&k(".menu-toggle").removeClass().addClass("menu-toggle btn-reset menu-toggle_icon menu-toggle_solo-icon"),"icon-text"==r&&k(".menu-toggle").removeClass().addClass("menu-toggle btn-reset menu-toggle_icon menu-toggle_text"),"text"==r&&k(".menu-toggle").removeClass().addClass("menu-toggle menu-toggle_text"),-1===k.inArray(r,["icon","button-icon"])&&k(".menu-toggle").html("Меню").addClass("menu-toggle_icon-left"))}else if("typography"==n){var b=k("#"+t.name).find(":selected").text();k("#"+t.name+"-css").attr("href","//fonts.googleapis.com/css2?family="+b.replace(/ /g,"+")+"%3Awght%40400%3B700&display=swap&ver=1.0.0"),w[s]="'"+b+"'"}else-1===k.inArray(t.name,["btn-bd-radius","elem-bg-saturate","elem-bd-color","elem-bd-color","elem-bd-color-saturate","input-bd-color-saturate"])&&(w[s]=C[r]),"elem-shadow"==t.name&&(w.elemShadowHover=C[r].replace("0.15","0.25")),"btn-size"==t.name&&(w.buttonPaddingTop=C[r].split(" ")[0],w.buttonPaddingLeft=C[r].split(" ")[1]),"btn-bd-radius"==t.name&&console.log(C[r])}}),w.allertColor="#F9423A",w.warningColor="#F3EA5D",w.acceptColor="#79D97C",t=w,a="",k.each(t,function(e,t){a=a+"--"+e+": "+t+";"}),a=":root {"+a+"}",k("#wpgen-root").empty().text(a),console.log(w)}function y(e){if(-1!==k.inArray(parseInt(e),[800,900]))var t="black";else if(-1!==k.inArray(parseInt(e),[500,600,700]))t="dark";else if(-1!==k.inArray(parseInt(e),[200,300,400]))t="light";else t="white";return t}function _(e){if(-1!==k.inArray(parseInt(e),[500,600,700,800,900]))var t="white";else t="black";return t}null!==t&&k("#wpgen-name").val(t),k.each([".button",".btn"],function(e,t){k(t).each(function(){var a=k(this),o=k(this).attr("class");k.each(["secondary","gray"],function(e,t){o.includes(t)&&a.attr("data-color",t)}),a.attr("data-type","common"),k.each(["empty","gradient","slide"],function(e,t){o.includes(t)&&a.attr("data-type",t)})})});var l=localStorage.getItem("wpgenLocks");null==l?l={}:(l=JSON.parse(l),k.each(l,function(e,t){if("off"===t)var a="on";else a="off";k("#"+e).next().attr("data-lock",t).removeClass("icon_lock-"+a).addClass("icon_lock-"+t)})),k("#wpgen-form").on("click",".lock",function(e){e.preventDefault();var t=k(this).prev().attr("id"),a=k(this).attr("data-lock");if("off"===a)var o="on";else o="off";k(this).attr("data-lock",o).removeClass("icon_lock-"+a).addClass("icon_lock-"+o),l[t]=o,localStorage.setItem("wpgenLocks",JSON.stringify(l))}),k(".selector").change(function(e){o(k(e.target).closest("#wpgen-form").serializeArray())}),k("#footer").on("click","#wpgen-random",function(e){e.preventDefault(),k("#wpgen-form .selector").each(function(){var e=k(this).children("option"),t=Math.floor(e.length*(Math.random()%1));"on"===k(this).next().attr("data-lock")&&e.attr("selected",!1).eq(t).attr("selected",!0)});var t=k(e.target).closest("#wpgen-form");o(t.serializeArray()),console.log(t.serializeArray())}),k("#footer").on("click",".wpgen-action",function(e){e.preventDefault();var t=k(e.target).closest("#wpgen-form"),a=k(e.target).attr("data-action");"reset"===a&&k(".selector").each(function(){var e=k(this).attr("data-default");console.log(e),k(this).val(e)}),t.hasClass("submited")||k.ajax({type:"POST",url:ajax_wpgen_obj.url,data:{action:"ajax_wpgen",content:t.serialize(),type:a,security:ajax_wpgen_obj.nonce},beforeSend:function(){t.addClass("submited")},complete:function(){t.removeClass("submited")},success:function(e){console.log(e.data),e.success&&"reset"===a&&(console.log(t.serializeArray()),o(t.serializeArray()))},error:function(e,t,a){500==t?console.log("Error while adding comment"):"timeout"==t?console.log("Error: Server doesn't respond."):console.log(e)}})})});