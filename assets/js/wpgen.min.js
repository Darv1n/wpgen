jQuery(document).ready(function(w){w("#wpgen-name").change(function(){localStorage.setItem("wpgenName",w(this).val())});var e=localStorage.getItem("wpgenName");function t(e){localStorage.setItem("wpgenData",JSON.stringify(e));var b=ajax_wpgen_obj.value,k={};w.each(e,function(e,t){var a,o=w("#"+t.name);if(o.data("value",t.value),0!==o.length){var l=o.find(":selected"),n=o.data("type"),r=o.data("value"),s=o.data("root");if("color"==n){var c=l.data("color-name"),i=l.data("color-saturate");if(k[s+"ColorDark"]=b[l.data("dark")],k[s+"ColorDarken"]=b[l.data("darken")],k[s+"Color"]=b[l.data("color")],k[s+"ColorLighten"]=b[l.data("lighten")],k[s+"ColorLight"]=b[l.data("light")],-1!==w.inArray(t.name,["general-primary-color","general-secondary-color"])){var g=_(l.data("color-saturate"));k[s+"ColorText"]="white"==g?b[w("#general-bg-color").find(":selected").data("white")]:b[w("#general-bg-color").find(":selected").data("black")]}var m=w("#general-link-color").find(":selected").val();if(m==s&&(k.linkColorDark=b[c+"-500"],k.linkColor=b[c+"-400"],k.linkColorLight=b[c+"-300"]),console.log(c+"-500"),"general-bg-color"==t.name){k.bgColorDark=b[l.data("bg-dark")],k.bgColorDarken=b[l.data("bg-darken")],k.bgColorLighten=b[l.data("bg-lighten")],k.bgColorLight=b[l.data("bg-light")],k.whiteColor=b[l.data("white")],k.textColor=b[l.data("black")];var d=y(i);a=d,w.each([{body:"theme_"},{header:"header_"},{footer:"footer_"},{"#main-menu":"main-menu-"}],function(){w.each(this,function(e,t){w(e).removeClass(t+"white "+t+"light "+t+"dark "+t+"black"),w(e).addClass(t+a)})});var u=w("#elem-bg-saturate").find(":selected").val();k.elemBgColor=b[c+"-"+u],w("body").removeClass("theme_elems_white theme_elems_light theme_elems_dark theme_elems_black").addClass("theme_elems_"+y(u));g=_(u);k.elemTextColor="white"==g?b[l.data("white")]:b[l.data("black")];var f=w("#elem-bd-color").find(":selected").val(),h=w("#elem-bd-color-saturate").find(":selected").val(),p=_(h);"gray"!==f&&(f=w("#general-"+f+"-color").find(":selected").data("color-name")),k.elemBdColor=b[f+"-"+h],k.elemBdColorHover="white"==p?b[f+"-"+function(e){value=100==parseInt(e)?parseInt(e)-50:50==parseInt(e)?parseInt(e)+50:parseInt(e)-100;return value}(h)]:b[f+"-"+function(e){value=50==parseInt(e)?parseInt(e)+50:900==parseInt(e)?parseInt(e)-100:parseInt(e)+100;return value}(h)];var C=w("#input-bd-color-saturate").find(":selected").val();"white"===_(i)&&(C={50:"900",100:"800",200:"700",300:"600",400:"500",500:"400",600:"300",700:"200",800:"100",900:"50"}[C]),50==i&&i==C&&(C=100),k.inputBdColor=b[c+"-"+C]}"blue"==m&&(k.linkColorDark=b["blue-500"],k.linkColor=b["blue-400"],k.linkColorLight=b["blue-300"])}else if("customizer"==n){if("customizer-general-container-width"==t.name&&w(".container").removeClass().addClass("container container-"+r),"customizer-archive-page-columns"==t.name&&("three"==r&&w(".article-column").removeClass().addClass("article-column col-12 col-sm-6 col-lg-4 article-column-3"),"four"==r&&w(".article-column").removeClass().addClass("article-column col-12 col-sm-6 col-lg-4 col-xl-3 article-column-4"),"five"==r&&w(".article-column").removeClass().addClass("article-column col-12 col-sm-6 col-lg-3 col-xl-5th article-column-5"),"six"==r&&w(".article-column").removeClass().addClass("article-column col-12 col-sm-6 col-lg-3 col-xl-2 article-column-6")),"customizer-general-button-type"==t.name&&w.each(["button","btn"],function(e,o){w("."+o).each(function(){var e=w(this),t=w(this).attr("data-color"),a=w(this).attr("data-type");null!=t?e.removeClass(o+"-"+t+" "+o+"-"+a+" "+o+"-"+a+"-"+t).addClass(o+"-"+t+" "+o+"-"+r+" "+o+"-"+r+"-"+t):e.removeClass(o+"-"+a).addClass(o+"-"+r),e.attr("data-type",r)})}),"customizer-general-menu-position"==t.name){w.each([{header:"header_menu_"},{"#main-menu":"main-menu-"}],function(){w.each(this,function(e,t){w(e).removeClass(t+"fixed "+t+"absolute"),w(e).addClass(t+r)})})}"customizer-general-menu-button-type"==t.name&&(w(".menu-toggle").empty(),"button-icon-text"==r&&w(".menu-toggle").removeClass().addClass("menu-toggle button menu-toggle_button menu-toggle_icon"),"button-icon"==r&&w(".menu-toggle").removeClass().addClass("menu-toggle button menu-toggle_button menu-toggle_icon menu-toggle_solo-icon"),"button-text"==r&&w(".menu-toggle").removeClass().addClass("menu-toggle button menu-toggle_button"),"icon"==r&&w(".menu-toggle").removeClass().addClass("menu-toggle btn-reset menu-toggle_icon menu-toggle_solo-icon"),"icon-text"==r&&w(".menu-toggle").removeClass().addClass("menu-toggle btn-reset menu-toggle_icon menu-toggle_text"),"text"==r&&w(".menu-toggle").removeClass().addClass("menu-toggle menu-toggle_text"),-1===w.inArray(r,["icon","button-icon"])&&w(".menu-toggle").html("Меню").addClass("menu-toggle_icon-left"))}else if("typography"==n){var v=w("#"+t.name).find(":selected").text();w("#"+t.name+"-css").attr("href","//fonts.googleapis.com/css2?family="+v.replace(/ /g,"+")+"%3Awght%40400%3B700&display=swap&ver=1.0.0"),k[s]="'"+v+"'"}else-1===w.inArray(t.name,["elem-bg-saturate","elem-bd-color","elem-bd-color","elem-bd-color-saturate","input-bd-color-saturate"])&&(k[s]=b[r]),"elem-shadow"==t.name&&(k.elemShadowHover=b[r].replace("0.15","0.25")),"btn-size"==t.name&&(k.buttonPaddingTop=b[r].split(" ")[0],k.buttonPaddingLeft=b[r].split(" ")[1])}}),k.allertColor="#F9423A",k.warningColor="#F3EA5D",k.acceptColor="#79D97C";var a="";w.each(k,function(e,t){a=a+"--"+e+": "+t+";"}),a=":root {"+a+"}",w("#wpgen-root-colors").empty().text(a),console.log(k)}function y(e){if(-1!==w.inArray(parseInt(e),[800,900]))var t="black";else if(-1!==w.inArray(parseInt(e),[500,600,700]))t="dark";else if(-1!==w.inArray(parseInt(e),[200,300,400]))t="light";else t="white";return t}function _(e){if(-1!==w.inArray(parseInt(e),[500,600,700,800,900]))var t="white";else t="black";return t}null!==e&&w("#wpgen-name").val(e),w.each([".button",".btn"],function(e,t){w(t).each(function(){var a=w(this),o=w(this).attr("class");w.each(["secondary","gray"],function(e,t){o.includes(t)&&a.attr("data-color",t)}),a.attr("data-type","common"),w.each(["gradient","slide"],function(e,t){o.includes(t)&&a.attr("data-type",t)})})});var l=localStorage.getItem("wpgenLocks");null==l?l={}:(l=JSON.parse(l),w.each(l,function(e,t){if("off"==t)var a="on";else a="off";w("#"+e).next().attr("data-lock",t).removeClass("lock-"+a).addClass("lock-"+t)})),w("#wpgen-form").on("click",".lock",function(e){e.preventDefault();var t=w(this).prev().attr("id"),a=w(this).attr("data-lock");if("off"==a)var o="on";else o="off";w(this).attr("data-lock",o).removeClass("lock-"+a).addClass("lock-"+o),l[t]=o,localStorage.setItem("wpgenLocks",JSON.stringify(l))}),w("#page").on("click","#wpgen-random",function(e){e.preventDefault(),w(".selector").each(function(){var e=w(this).children("option"),t=Math.floor(e.length*(Math.random()%1));"off"==w(this).next().attr("data-lock")&&e.attr("selected",!1).eq(t).attr("selected",!0)}),t(w(e.target).closest("#wpgen-form").serializeArray())}),w(".selector").change(function(e){t(w(e.target).closest("#wpgen-form").serializeArray())}),w("#page").on("click","#wpgen-submit",function(e){e.preventDefault();var t=w(e.target).closest("#wpgen-form");console.log(e),console.log(e.target),console.log(t.serialize()),console.log(t.hasClass("submited")),t.hasClass("submited")||w.ajax({type:"POST",url:ajax_wpgen_obj.url,data:{action:"ajax_wpgen",content:t.serialize(),security:ajax_wpgen_obj.nonce},beforeSend:function(){t.addClass("submited"),console.log("beforeSend")},complete:function(){t.removeClass("submited"),console.log("complete")},success:function(e){console.log("success"),console.log(e.data),e.success},error:function(e,t,a){500==t?console.log("Error while adding comment"):"timeout"==t?console.log("Error: Server doesn't respond."):console.log(e)}})})});